var L=Object.defineProperty;var E=(t,e,s)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var c=(t,e,s)=>E(t,typeof e!="symbol"?e+"":e,s);import{G as k,x as z,a9 as F,T as j,S as D,F as G,P as U,W as B,v as N,D as W,A as O,e as w,Q as R,aa as q,ab as H,ac as T,ad as Q,ae as $,af as Z,M as J,f as K,d as V,V as X,g as Y,t as tt,h as et,i as it}from"./three.module-Dp6ZLe64.js";import{g as st}from"./lil-gui.module.min-Vka56b52.js";import{S as nt}from"./stats.module--VATS4Kh.js";import{O as rt}from"./OrbitControls---LevtVI.js";import{G as at}from"./GLTFLoader-B0WYv_H4.js";import{d as ot,r as ht,o as ct,c as lt,f as ut,_ as ft}from"./index-D_RN05-O.js";var b=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-b.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?b.Bounce.In(t*2)*.5:b.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),y=function(){return performance.now()},A=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(s){return e._tweens[s]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,s){e===void 0&&(e=y()),s===void 0&&(s=!1);var a=Object.keys(this._tweens);if(a.length===0)return!1;for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<a.length;i++){var n=this._tweens[a[i]],r=!s;n&&n.update(e,r)===!1&&!s&&delete this._tweens[a[i]]}a=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),g={Linear:function(t,e){var s=t.length-1,a=s*e,i=Math.floor(a),n=g.Utils.Linear;return e<0?n(t[0],t[1],a):e>1?n(t[s],t[s-1],s-a):n(t[i],t[i+1>s?s:i+1],a-i)},Bezier:function(t,e){for(var s=0,a=t.length-1,i=Math.pow,n=g.Utils.Bernstein,r=0;r<=a;r++)s+=i(1-e,a-r)*i(e,r)*t[r]*n(a,r);return s},CatmullRom:function(t,e){var s=t.length-1,a=s*e,i=Math.floor(a),n=g.Utils.CatmullRom;return t[0]===t[s]?(e<0&&(i=Math.floor(a=s*(1+e))),n(t[(i-1+s)%s],t[i],t[(i+1)%s],t[(i+2)%s],a-i)):e<0?t[0]-(n(t[0],t[0],t[1],t[1],-a)-t[0]):e>1?t[s]-(n(t[s],t[s],t[s-1],t[s-1],a-s)-t[s]):n(t[i?i-1:0],t[i],t[s<i+1?s:i+1],t[s<i+2?s:i+2],a-i)},Utils:{Linear:function(t,e,s){return(e-t)*s+t},Bernstein:function(t,e){var s=g.Utils.Factorial;return s(t)/s(e)/s(t-e)},Factorial:function(){var t=[1];return function(e){var s=1;if(t[e])return t[e];for(var a=e;a>1;a--)s*=a;return t[e]=s,s}}(),CatmullRom:function(t,e,s,a,i){var n=(s-t)*.5,r=(a-e)*.5,o=i*i,h=i*o;return(2*e-2*s+n+r)*h+(-3*e+3*s-2*n-r)*o+n*i+e}}},x=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),I=new A,dt=function(){function t(e,s){s===void 0&&(s=I),this._object=e,this._group=s,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=b.Linear.None,this._interpolationFunction=g.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=x.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,s){if(s===void 0&&(s=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=s<0?0:s,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,s){if(e===void 0&&(e=y()),s===void 0&&(s=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||s){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var n in this._valuesEnd)i[n]=this._valuesEnd[n];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,s)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,s,a,i,n){for(var r in a){var o=e[r],h=Array.isArray(o),u=h?"array":typeof o,f=!h&&Array.isArray(a[r]);if(!(u==="undefined"||u==="function")){if(f){var l=a[r];if(l.length===0)continue;for(var p=[o],v=0,M=l.length;v<M;v+=1){var P=this._handleRelativeValue(o,l[v]);if(isNaN(P)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(P)}f&&(a[r]=p)}if((u==="object"||h)&&o&&!f){s[r]=h?[]:{};var m=o;for(var _ in m)s[r][_]=m[_];i[r]=h?[]:{};var l=a[r];if(!this._isDynamic){var C={};for(var _ in l)C[_]=l[_];a[r]=l=C}this._setupProperties(m,s[r],l,i[r],n)}else(typeof s[r]>"u"||n)&&(s[r]=o),h||(s[r]*=1),f?i[r]=a[r].slice().reverse():i[r]=s[r]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=y()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=y()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,s=this._chainedTweens.length;e<s;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=I),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=b.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=g.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,s){var a=this,i;if(e===void 0&&(e=y()),s===void 0&&(s=!0),this._isPaused)return!0;var n,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;s&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=e-this._startTime,h=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),u=this._duration+this._repeat*h,f=function(){if(a._duration===0||o>u)return 1;var m=Math.trunc(o/h),_=o-m*h,C=Math.min(_/a._duration,1);return C===0&&o===a._duration?1:C},l=f(),p=this._easingFunction(l);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,p),this._onUpdateCallback&&this._onUpdateCallback(this._object,l),this._duration===0||o>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((o-this._duration)/h)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=h*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var M=0,P=this._chainedTweens.length;M<P;M++)this._chainedTweens[M].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,s,a,i){for(var n in a)if(s[n]!==void 0){var r=s[n]||0,o=a[n],h=Array.isArray(e[n]),u=Array.isArray(o),f=!h&&u;f?e[n]=this._interpolationFunction(o,i):typeof o=="object"&&o?this._updateProperties(e[n],r,o,i):(o=this._handleRelativeValue(r,o),typeof o=="number"&&(e[n]=r+(o-r)*i))}},t.prototype._handleRelativeValue=function(e,s){return typeof s!="string"?s:s.charAt(0)==="+"||s.charAt(0)==="-"?e+parseFloat(s):parseFloat(s)},t.prototype._swapEndStartRepeatValues=function(e){var s=this._valuesStartRepeat[e],a=this._valuesEnd[e];typeof a=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(a):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s},t}(),pt="23.1.1",_t=x.nextId,d=I,gt=d.getAll.bind(d),vt=d.removeAll.bind(d),wt=d.add.bind(d),yt=d.remove.bind(d),bt=d.update.bind(d),S={Easing:b,Group:A,Interpolation:g,now:y,Sequence:x,nextId:_t,Tween:dt,VERSION:pt,getAll:gt,removeAll:vt,add:wt,remove:yt,update:bt};const Mt=ot({__name:"olympic",setup(t){const e=ht();class s{constructor(i){c(this,"container");c(this,"scene");c(this,"camera");c(this,"renderer");c(this,"olympicRingsGroup",new k);c(this,"snowParticles");c(this,"characterModels",[]);c(this,"environmentModels",[]);c(this,"animationMixer");c(this,"clock",new z);c(this,"textureLoader");c(this,"gltfLoader");c(this,"loadingManager");c(this,"orbitControls");c(this,"stats");c(this,"debugGUI");c(this,"config",{ambientLight:{intensity:4.48},snow:{particleCount:1500,size:1,opacity:.8,fallSpeed:{min:.1,max:.4},swayRange:.5}});c(this,"particleVelocities",[]);this.container=i,this.initLoaders(),this.initScene(),this.initCamera(),this.initRenderer(),this.initLights(),this.loadAssets(),this.initHelpers(),this.initEventListeners()}initLoaders(){this.loadingManager=new F(()=>{console.log("所有资源加载完成"),new S.Tween(this.camera.position).to({x:0,y:-1,z:20},3600).easing(S.Easing.Quadratic.InOut).start(),new S.Tween(this.orbitControls.target).to({x:0,y:0,z:5},3600).easing(S.Easing.Quadratic.InOut).start()},(i,n,r)=>console.log(`加载进度: ${n}/${r} - ${i}`),i=>console.error(`加载失败: ${i}`)),this.textureLoader=new j(this.loadingManager),this.textureLoader.setPath("/olympic/"),this.gltfLoader=new at(this.loadingManager),this.gltfLoader.setPath("/olympic/")}initScene(){this.scene=new D,this.scene.background=this.textureLoader.load("sky.jpg"),this.scene.fog=new G(16777215,10,100)}initCamera(){const i=this.container.clientWidth/this.container.clientHeight;this.camera=new U(60,i,.1,1e3),this.camera.position.set(0,30,100),this.camera.lookAt(0,0,0)}initRenderer(){this.renderer=new B({antialias:!0,alpha:!0}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=N,this.container.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(this.animate.bind(this))}initLights(){const i=new W(16777215,1);i.position.set(16,16,8),i.castShadow=!0,i.shadow.mapSize.width=2048,i.shadow.mapSize.height=2048,i.shadow.camera.near=.5,i.shadow.camera.far=500,i.shadow.camera.left=-40,i.shadow.camera.right=40,i.shadow.camera.top=40,i.shadow.camera.bottom=-40,this.scene.add(i);const n=new O(13631487,this.config.ambientLight.intensity);this.scene.add(n)}loadAssets(){this.loadGround(),this.loadFlag(),this.loadMascots(),this.loadTrees(),this.createOlympicRings(),this.createSnowParticles()}loadGround(){this.gltfLoader.load("land.glb",i=>{i.scene.traverse(n=>{n instanceof w&&(n.material.metalness=.1,n.material.roughness=.8,n.name==="Mesh_2"&&(n.material.metalness=.5,n.receiveShadow=!0))}),i.scene.rotation.y=Math.PI/4,i.scene.position.set(15,-20,0),i.scene.scale.set(.9,.9,.9),this.scene.add(i.scene),this.environmentModels.push(i.scene)})}loadFlag(){this.gltfLoader.load("flag.glb",i=>{i.scene.traverse(r=>{r instanceof w&&(r.castShadow=!0,r.name==="mesh_0001"&&(r.material.metalness=.1,r.material.roughness=.1,r.material.map=this.textureLoader.load("flag.png")),r.name==="柱体"&&(r.material.metalness=.6,r.material.roughness=0,r.material.color=new R(15658734)))}),i.scene.position.set(2,-7,-1),i.scene.scale.set(4,4,4),this.animationMixer=new q(i.scene),this.animationMixer.clipAction(i.animations[0]).play(),this.scene.add(i.scene),this.environmentModels.push(i.scene)})}loadMascots(){this.gltfLoader.load("bingdwendwen.glb",i=>{i.scene.traverse(n=>{n instanceof w&&(n.name==="皮肤"&&(n.material.metalness=.3,n.material.roughness=.8),n.name==="外壳"&&(n.material.transparent=!0,n.material.opacity=.4,n.material.metalness=.4,n.material.roughness=0,n.material.refractionRatio=1.6,n.castShadow=!0,n.material.envMap=this.textureLoader.load("sky.jpg"),n.material.envMapIntensity=1),n.name==="围脖"&&(n.material.transparent=!0,n.material.opacity=.6,n.material.metalness=.4,n.material.roughness=.6))}),i.scene.rotation.y=Math.PI/24,i.scene.position.set(-5,-11.5,0),i.scene.scale.set(24,24,24),this.scene.add(i.scene),this.characterModels.push(i.scene)}),this.gltfLoader.load("xuerongrong.glb",i=>{i.scene.traverse(n=>{n instanceof w&&(n.castShadow=!0)}),i.scene.rotation.y=Math.PI/3,i.scene.position.set(-20,-10.8,0),i.scene.scale.set(12,12,12),this.scene.add(i.scene),this.characterModels.push(i.scene)})}loadTrees(){const i=new H({map:this.textureLoader.load("tree.png"),transparent:!0,side:T,metalness:.2,roughness:.8,depthTest:!0,depthWrite:!1,fog:!1,reflectivity:.1}),n=new Q({depthPacking:$,map:this.textureLoader.load("tree.png"),alphaTest:.5});this.gltfLoader.load("tree.gltf",r=>{r.scene.traverse(u=>{u instanceof w&&(u.material=i,u.customDepthMaterial=n)}),r.scene.position.set(14,-9,0),r.scene.scale.set(16,16,16),this.scene.add(r.scene),this.environmentModels.push(r.scene);let o=r.scene.clone();o.position.set(10,-8,-15),o.scale.set(18,18,18),this.scene.add(o);let h=r.scene.clone();h.position.set(-18,-8,-16),h.scale.set(22,22,22),this.scene.add(h)})}createOlympicRings(){[{color:558530,position:{x:-250,y:0,z:0}},{color:0,position:{x:-10,y:0,z:1}},{color:15545166,position:{x:230,y:0,z:0}},{color:16494898,position:{x:-125,y:-100,z:-5}},{color:1870652,position:{x:115,y:-100,z:10}}].forEach(n=>{const r=new w(new Z(100,10,10,50),new J({color:new R(n.color),side:T}));r.position.set(n.position.x,n.position.y,n.position.z),this.olympicRingsGroup.add(r)}),this.olympicRingsGroup.scale.set(.036,.036,.036),this.olympicRingsGroup.position.set(0,10,-8),this.scene.add(this.olympicRingsGroup)}createSnowParticles(){var f;const i=this.textureLoader.load("snow.png"),n=new K,r=new Float32Array(this.config.snow.particleCount*3),o=100;for(let l=0;l<this.config.snow.particleCount;l++){const p=l*3;r[p]=Math.random()*o-o/2,r[p+1]=Math.random()*o*1.5,r[p+2]=Math.random()*o-o/2,this.particleVelocities.push({x:(Math.random()-.5)*this.config.snow.swayRange/3,y:this.config.snow.fallSpeed.min+Math.random()*(this.config.snow.fallSpeed.max-this.config.snow.fallSpeed.min)})}n.setAttribute("position",new V(r,3)),n.computeBoundingBox();const h=new X;(f=n.boundingBox)==null||f.getCenter(h),n.translate(-h.x,-h.y,-h.z);const u=new Y({size:this.config.snow.size,transparent:!0,opacity:this.config.snow.opacity,map:i,blending:tt,sizeAttenuation:!0,depthTest:!1});this.snowParticles=new et(n,u),this.snowParticles.position.y=-30,this.scene.add(this.snowParticles)}initHelpers(){new it(150),this.orbitControls=new rt(this.camera,this.renderer.domElement),this.orbitControls.target.set(0,0,0),this.orbitControls.enableDamping=!0,this.orbitControls.enablePan=!1,this.orbitControls.enableZoom=!1,this.orbitControls.minPolarAngle=1.4,this.orbitControls.maxPolarAngle=1.8,this.orbitControls.minAzimuthAngle=-.8,this.orbitControls.maxAzimuthAngle=.8,this.stats=new nt,document.body.appendChild(this.stats.dom),this.debugGUI=new st,this.debugGUI.addFolder("环境光").add(this.config.ambientLight,"intensity",0,10,.01).name("强度").onChange(i=>{this.scene.children.forEach(n=>{n instanceof O&&(n.intensity=i)})})}initEventListeners(){window.addEventListener("resize",this.handleWindowResize.bind(this))}handleWindowResize(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}update(){var i;if(this.olympicRingsGroup.rotation.y+=.01,this.snowParticles){const n=this.snowParticles.geometry.attributes.position.array;for(let r=0;r<this.config.snow.particleCount;r++){const o=r*3;n[o]+=this.particleVelocities[r].x,n[o+1]-=this.particleVelocities[r].y,n[o+1]<-50&&(n[o+1]=150,n[o]=Math.random()*200-100,n[o+2]=Math.random()*200-100)}this.snowParticles.geometry.attributes.position.needsUpdate=!0}this.animationMixer&&this.animationMixer.update(this.clock.getDelta()),(i=this.orbitControls)==null||i.update()}animate(){this.stats.update(),S.update(),this.update(),this.renderer.render(this.scene,this.camera)}}return ct(()=>{e.value&&new s(e.value),document.title="Olympic - Three.js"}),(a,i)=>(ut(),lt("div",{ref_key:"container",ref:e,class:"three-container"},null,512))}}),Rt=ft(Mt,[["__scopeId","data-v-587ac12a"]]);export{Rt as default};
