import{S as z,P as R,A as j,a as k,b as F,D as W,c as G,B as I,d as g,T as O,M as T,e as N,f as V,g as q,h as U,i as J,W as K}from"./three.module-DmlE-t8v.js";import{O as Q}from"./OrbitControls--HqJHdGn.js";import{S as X}from"./stats.module--VATS4Kh.js";import{d as Y,r as v,o as Z,a as $,c as L,b as ee,e as b,f as x,_ as te}from"./index-DizvUXn5.js";const ne={key:0,class:"loading-overlay"},ae=Y({__name:"demo1",setup(ie){const i=v(),d=v(!0),o=new z;let n,s,t,p,c,m;const _=()=>{const a=new j(4210752,2);o.add(a);const e=new k(16777215,2,1e3);e.decay=0,e.position.set(20,20,20),e.castShadow=!0,o.add(e);const u=new F(e,1);o.add(u);const r=new W(16777215,1);r.position.set(0,15,15),o.add(r);const l=new G(r,1,16776960);o.add(l)},P=()=>{const a=new I(15,15,15),e=new Float32Array([1,1,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,1,0,0,1,0,0,1,1,1,0,0,1,0,0,0,1,1,1,0,0,1,0,0,1,1,1,0,0,1,0]);a.attributes.uv=new g(e,2);const u=new O().load("/threejs-demo/girl.jpg"),r=new T({map:u});c=new N(a,r),c.position.set(0,0,0),c.castShadow=!0,o.add(c);const l=new V,D=new Float32Array([0,0,0,10,10,0,0,10,0,10,10,0,0,0,0,10,0,0]);l.attributes.position=new g(D,3);const E=new q({color:65280,size:1}),H=new U(l,E);o.add(H)},y=()=>{if(!i.value)return;const a=i.value.clientWidth,e=i.value.clientHeight;s=new R(60,a/e,.1,1e3),s.position.set(60,0,0),s.lookAt(0,0,0),window.camera=s},A=()=>{i.value&&(n=new K({antialias:!0,alpha:!0,powerPreference:"high-performance"}),h(),i.value.appendChild(n.domElement))},h=()=>{if(!i.value||!n||!s)return;const a=i.value.clientWidth,e=i.value.clientHeight;n.setSize(a,e),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),s.aspect=a/e,s.updateProjectionMatrix()},C=()=>{n&&(t=new Q(s,n.domElement),t.enableDamping=!0,t.dampingFactor=.05,t.screenSpacePanning=!1,t.maxPolarAngle=Math.PI,t.minDistance=5,t.maxDistance=500,window.cameraControls=t)},M=()=>{const a=new J(150);o.add(a)},w=()=>{m.update(),p=requestAnimationFrame(w),t!=null&&t.enableDamping&&t.update(),n.render(o,s),d.value&&(d.value=!1)},f=()=>{h()},S=()=>{cancelAnimationFrame(p),window.removeEventListener("resize",f),t&&t.dispose(),i.value&&(n!=null&&n.domElement)&&i.value.removeChild(n.domElement)},B=()=>{m=new X,document.body.appendChild(m.domElement),y(),_(),P(),M(),A(),C(),window.addEventListener("resize",f),w()};return Z(()=>{B(),document.title="Basic - Three.js"}),$(()=>{S()}),(a,e)=>(x(),L("div",{ref_key:"container",ref:i,class:"container"},[d.value?(x(),L("div",ne,e[0]||(e[0]=[b("div",{class:"loader"},null,-1),b("p",null,"场景加载中...",-1)]))):ee("",!0)],512))}}),le=te(ae,[["__scopeId","data-v-069c5e23"]]);export{le as default};
